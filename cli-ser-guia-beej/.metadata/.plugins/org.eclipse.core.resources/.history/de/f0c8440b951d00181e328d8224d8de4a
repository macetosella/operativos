/*
 ============================================================================
 Name        : prueba_red_line.c
 Author      : 
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>
#include <readline/readline.h>
#include <readline/history.h>

void esTab ();

void main() {
  char * linea = malloc(sizeof(char *));
  while(1) {
    linea = readline(">");
    //Si no es null
    if(linea && *linea){
    	//Se guarda lo ingresado en un historial
    	add_history(linea);
    }
    //Si lo que recibo es exit
    if (strcmp("exit", linea) == 0) {
    	free(linea);
    	break;
    }

    //Evento que detecta el TAB y ejecuta la funcion
    if(rl_bind_key ('\tdsd',  (void *)esTab ) != 0){
    	printf("La clave ingresada no es un valor ASCII\n");
    }
    printf("%s\n", linea);
    free(linea);
  }
};

void esTab(){
	printf("Presionaste un TAB gato\n");
}
